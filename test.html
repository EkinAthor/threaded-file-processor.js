
 <input type="file" id="fileInput">
 <div id='result'></div>
 <div id='contents'></div>


 <script src="threadedFileProcessor.js"></script>

 <script src="threadedLineProcessor.js"></script>
 <script src="./tests/threadedFileProcessorTest.js"></script>
 <script src="lineProcessingScripts.js"></script>
<script>
//byte size of single chunk
//var chunkSize = 261504;
var chunkSize = 8096;





document.getElementById("fileInput").addEventListener("change", function() {

	var file = document.getElementById("fileInput").files[0];

	/*	var Pi=0;
var n=1;
for (i=0;i<=100000000;i++)
{
Pi=Pi+(4/n)-(4/(n+2));
n=n+4;
}
console.log("PI "+Pi);*/
/*
	var j = new ThreadedFileProcessor({file:file, threaded: true, logging: true,
									metadata: {fileMetadata: {lineSeparator: "\n",fieldSeparator: ";", ignoreFields: false, stringQualifier: "\"", stringQualifierEscape: "\"", treatAllAsStrings: false}, fields:[
																										{name: "src_street", fieldType: "String"},
																										{name: "src_city", fieldType: "String"},
																										{name: "src_province", fieldType: "String"},
																										{name: "src_zip", fieldType: "String"}
																										]
											}
	});
	j.on("end", function(counter) {
		console.log(counter);
	});
	j.on("line", function(line) {
		var node = document.createElement("div");                 // Create a <li> node
		var textnode = document.createTextNode(line);         // Create a text node
		node.appendChild(textnode);                              // Append the text to <li>
		document.getElementById("contents").appendChild(node);
		
	});
	j.on("parsedLine", function(line) {
		console.log(line);
	});

	j.start();
	*/


	var t=new ThreadedFileProcessorTest({file:file, scriptFilesLocation: "../src"});
	t.start();

});

/*
this.counter++;
		document.getElementById("result").innerHTML = this.counter;
 */
</script>